<!doctype html>
<html lang="en">
<head>
    <title>Travel History</title>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1,shrink-to-fit=no">
    <link rel="stylesheet" href="/registration.css">
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-EVSTQN3/azprG1Anm3QDgpJLIm9Nao0Yz1ztcQTwFspd3yD65VohhpuuCOmLASjC" crossorigin="anonymous">
    <style>
        body{
            background: url(https://www.10wallpaper.com/wallpaper/1366x768/2001/Street_Skyscraper_Bus_2019_Cities_HD_Photo_1366x768.jpg) no-repeat;
        }
        .container{
            height: 500px;
            margin: 15px auto;
        }
        tr, td{
            text-align: center;
        }
    </style>
</head>
<body>
<%- include('pass_header') %>
    <div class="container">
        <div class="title">Travel History</div>
        <section class="bg-light p-10">
            <div class="table-responsive" id="no-more-tables">
                <table class="table bg-white">
                    <thead class="bg-dark text-light">
                        <tr>
                            <th>Travel Start Time</th>
                            <th>Travel Start Location</th>
                            <th>Travel End Time</th>
                            <th>Travel End Location</th>
                            <th>Travel Diatance</th>
                            <th>Fare Amount</th> 
                        </tr>
                    </thead>
                    <tbody>
                        <% rows.forEach(function(row){ %>
                            <tr>
                                <td><%- row.source_time.toString().substring(0, 24) %></td>
                                <td><%- row.source_loc %></td>
                            <% if(row.destination_loc == "" || row.destination_loc == null) {  %>
                                <td>Incomplete Journey<!%- row.destination_time.toString().substring(0, 24) %></td>
                                <td>Incomplete Journey</td>
                                <td>Incomplete Journey</td>
                                <td>Incomplete Journey</td>
                            <%  } else {    %>
                                <td><%- row.destination_time.toString().substring(0, 24) %></td>
                                <td><%- row.destination_loc %></td>
                                <td><%- row.distance %> Km</td>
                                <td><%- row.fare %> Tokens</td>
                            <%  }   %>
                            </tr>
                            <% }); %>
                    </tbody>
                </table>
            </div>
        </section>
        <div class="dialogue"></div>
    </div>
<%- include('footer') %>
</body>
</html>